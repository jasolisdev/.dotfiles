"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[713],{67220:(e,n,t)=>{t.r(n),t.d(n,{Show:()=>Te,default:()=>Le});var i=t(67294),a=t.n(i),l=t(82772),r=t(47886),d=t(20657),o=t(94233),s=t(14535),m=t(56802),c=t(4236),u=t(1663),k=t(20238),v=t(76343),p=t(59713),y=t.n(p),S=t(42922),g=t(65858),N=t(15212),E=t(7073),f=t(21127),b=t(84788),F=t(87257),h=t(57978),P=t(75016),C=t(72917),I=t(69518),w=t.n(I),D=t(62975),A=t(18261),O=t(25988),M=t(38894),R=t(37630),_=t(95661),U=t(20246),x=t(95806),T=t(30247),z=t(52759),L=t(84629);const Z=a().memo((({index:e,uid:n,show:t,episode:l,usePlayContextItem:r})=>{var o,s,c,u,k,v,p,y,I;const Z=null===(o=(0,g.oR)().getState().platform)||void 0===o?void 0:o.isBrowser,j=1e3*l.playedState.playPosition,$=l.uri,V=(0,i.useRef)(null),[B,W]=(0,i.useState)(l.playedState.state===E.sY.Completed),G=(0,N.O1)(),K=(0,M.g)(),q=(0,R.jh)(),H=(0,m.o)(),Q=(0,g.I0)(),{isActive:Y,isPlaying:X,togglePlay:J}=r({uri:$}),[ee]=(0,z.z)(1e4,(e=>{var n;return(null==e||null===(n=e.item)||void 0===n?void 0:n.uri)===$}));(0,i.useEffect)((()=>{X&&(V.current=ee)}),[X,ee]),(0,i.useEffect)((()=>{!X&&V.current&&l.duration.totalMilliseconds<=V.current&&W(!0)}),[X,l.duration.totalMilliseconds]);const ne=(0,i.useCallback)((e=>{e||(V.current=0),W(e)}),[]),te=(0,T.s)(l,t),ie=(0,i.useCallback)((()=>{l.type===E.Wf.Episode&&Z?D.y.set((()=>({triggerId:`activation-trigger-mme${l.uri}`,triggerAction:null}))):K?te():(H({targetUri:$,intent:X?"pause":"play",type:"click"}),J())}),[te,H,J,$,X,K,l,Z]),ae=(0,i.useCallback)((()=>{H({type:"click",targetUri:$,intent:"navigate"})}),[$,H]),le=null!==(s=null===(c=l.podcastSubscription)||void 0===c?void 0:c.isPaywalled)&&void 0!==s&&s,re=null!==(u=null===(k=l.podcastSubscription)||void 0===k?void 0:k.isUserSubscribed)&&void 0!==u&&u,de=le&&!re,oe=le&&K,{badges:se}=(0,b.r)({contentRating:null===(v=l.contentRating)||void 0===v?void 0:v.label,isPaywalled:le}),me=(0,i.useCallback)((()=>Q((0,L.RM)(t.uri))),[t.uri,Q]),ce=(0,i.useCallback)((e=>{let n=e;return(de||oe)&&(n=a().createElement(x.l,{enabled:!0,showUri:t.uri},n)),!l.playability.playable&&se.nineteen&&(n=a().createElement("div",{onClick:e=>{e.stopPropagation(),me()}},e)),n=a().createElement(C.c,{id:`activation-trigger-mme-${$}`,targetURI:w().from($)},n),n}),[$,de,oe,t.uri,se.nineteen,l.playability.playable,me]);return a().createElement(S.ZP,{value:"row",index:e},a().createElement(A._,{menu:a().createElement(O.k,{uri:$,showUri:t.uri,sharingInfo:l.sharingInfo,isPlayed:B,onMarkAsPlayed:ne})},a().createElement(f.X,{index:e,uri:$,uid:n,size:q,images:(null===(p=l.coverArt)||void 0===p?void 0:p.sources)||[],name:l.name,showName:t.name,description:l.description,isPlayable:l.playability.playable||de,fullyPlayed:B,durationMs:l.duration.totalMilliseconds,releaseDate:(null===(y=l.releaseDate)||void 0===y?void 0:y.isoString)||"",resumePositionMs:null!==(I=V.current)&&void 0!==I?I:j,handleDragStart:e=>{if(e.target!==e.currentTarget)return;const n=`${l.name} Â· ${t.name}`;G(e,[$],n,t.uri)},handlePlaybackClick:ie,handleClick:ae,isCurrentlyPlaying:Y,isPaywalled:le,isUserSubscribed:re,isPlaying:X,position:X?ee:void 0,episodeSharingInfo:l.sharingInfo,onMarkAsPlayed:ne,badges:a().createElement(a().Fragment,null,se.explicit&&a().createElement(F.N,null),se.paid&&a().createElement(P.g,null),se.nineteen&&a().createElement(h.X,{size:16})),playButtonWrapper:ce,topActionButtons:a().createElement(U.y,{menu:a().createElement(O.k,{uri:$,showUri:t.uri,sharingInfo:l.sharingInfo,isPlayed:B,onMarkAsPlayed:ne})},a().createElement(_.z,{size:_.q.sm,label:d.ag.get("more.label.context",l.name)}))})))}));var j=t(57369),$=t(33241);const V="CEzorVPz8qP2ufspPOAV",B="qMm8zD8_O3chaQaGFTrR";var W=t(63435);function G(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function K(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?G(Object(t),!0).forEach((function(n){y()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):G(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const q=a().memo((({show:e,usePlayContextItem:n})=>{const t=(0,j.ZM)(e.uri),[l,r]=(0,i.useState)(W.d),d=(0,i.useRef)(!1),o=(0,i.useRef)(0),{ref:s,breakpoint:m}=(0,R.Db)({[R.Uo.MEDIUM]:0,[R.Uo.LARGE]:600}),c=(0,i.useCallback)(((e=!1)=>{if(!t)return;const n=o.current;null!==n&&(d.current||(d.current=!0,t(n,50).then((t=>{r((i=>{const a=e?[]:[...i.items];return a.splice(n,t.items.length,...t.items),o.current=t.pagingInfo.nextOffset,K(K({},t),{},{items:a})})),d.current=!1}))))}),[t]);return(0,i.useEffect)((()=>{r(W.d)}),[e.uri]),(0,i.useEffect)((()=>{o.current=0,c(!0)}),[c]),a().createElement(R.ZU.Provider,{value:m},a().createElement(S.ZP,{value:"track-list"},a().createElement("div",{ref:s},a().createElement($.C,{onReachBottom:c,triggerOnInitialLoad:!0},l.items.map((({episode:t,uid:i},l)=>a().createElement("div",{className:B,key:`${l}${i}`},a().createElement("hr",{className:V,"aria-hidden":!0}),a().createElement(Z,{key:`${t.uri}/${l}`,index:l,uid:i,episode:t,show:e,usePlayContextItem:n}))))))))}));var H=t(44887),Q=t(7469),Y=t(42781);const X={container:"UAr1ykAzAXGhpFff9QMs",isActive:"pGROPv_WU9PujiEyoQO_",title:"_1Z6oJdK97lKCQ7r0ojU",main:"qowgdO7a8bo0lII3RQWF",titleContainer:"gh5Qx4sJxO_CkKGiyDNs",duration:"_LVf_3mRQI56XLkn6x1x",trailerContainer:"PU16TumvP1112QZvESVw",image:"BtV0Yc_3nDxx80gTmMcj",imageContainer:"qWNSNm0ilw_UZhHK92pz",playButton:"dUh9QkXiQQSWylfoCHoI",entityImageLarge:"_KfawJyrdlUe7HVO1E_C",entityImageSmall:"X9TZheN05BJMCoSUzgO_"};var J=t(55911),ee=t(94184),ne=t.n(ee),te=t(6695),ie=t(95775);let ae;!function(e){e.SMALL="small",e.LARGE="large"}(ae||(ae={}));const le=({images:e,title:n,contentRating:t,duration:i,moreButton:l,onClick:r,onContextMenu:o,onTouchStart:s,onTouchEnd:m,isPlaying:c,isActive:u,size:k,className:p})=>{const y=k===ae.LARGE?J.qE.md:J.qE.sm,{badges:S}=(0,b.r)({contentRating:t});return a().createElement("div",{"data-testid":"trailer-component",className:ne()(X.container,p,{[X.isActive]:u}),onContextMenu:o,onTouchStart:s,onTouchEnd:m},a().createElement("div",{className:X.main},a().createElement("div",{className:X.imageContainer},a().createElement(H.O,{type:Y.p.EPISODE,title:n,className:ne()(X.image,{[X.entityImageSmall]:k===ae.SMALL,[X.entityImageLarge]:k===ae.LARGE}),size:Q.m$.SIZE_56,images:e,shape:H.K.ROUNDED_CORNERS}),a().createElement("div",{className:X.playButton},a().createElement(J.JM,{"data-testid":"trailer-play-button",version:J.ul.transparent,size:y,isPlaying:c,onClick:r}))),a().createElement("div",{className:X.metadata},a().createElement("div",{className:X.titleContainer},a().createElement(v.Dy,{dir:"auto",className:X.title,variant:v.$e.balladBold},n)),a().createElement("div",{className:X.trailerContainer},a().createElement(ie.V,{text:d.ag.get("track-trailer")}),S.explicit&&a().createElement(F.N,null),S.nineteen&&a().createElement(h.X,null),a().createElement(v.Dy,{dir:"auto",variant:v.$e.mesto},a().createElement(te.nL,{durationMs:i}))))),l)};var re=t(86514),de=t(43620),oe=t(95289);const se=a().memo((e=>{const{uri:n}=e,{sortParamMap:t,getSortParam:l,setSortParam:r}=(0,j.uM)(n),d=l(),o=Array.from(t.values()),s=Array.from(t.keys()),m=(0,i.useCallback)((e=>{const n=s.find((n=>{var i;return(null===(i=t.get(n))||void 0===i?void 0:i.key)===e}));n&&r(n)}),[r,s,t]);if(!t.size||!d)return null;const c=Array.from(t.keys()).find((e=>e.field===d.field&&e.order===d.order)),u=t.get(c);return a().createElement(oe.A,{options:o,onSelect:e=>m(e),selected:u})}));var me=t(98778),ce=t(17231),ue=t(44503),ke=t(67892),ve=t(84242),pe=t(83693),ye=t(4383),Se=t(98984),ge=t(52200);const Ne={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryShowWeb"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"podcastUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"podcastMetadataWeb"}},{kind:"Field",name:{kind:"Name",value:"episodes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}}]}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"episode"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"audio"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"format"}},{kind:"Field",name:{kind:"Name",value:"fileId"}},{kind:"Field",name:{kind:"Name",value:"externallyHosted"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"audioPreview"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"format"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"releaseDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}},{kind:"Field",name:{kind:"Name",value:"playedState"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playPosition"}},{kind:"Field",name:{kind:"Name",value:"state"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareUrl"}},{kind:"Field",name:{kind:"Name",value:"shareId"}}]}}]}}]}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"podcastMetadataWeb"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"following"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"htmlDescription"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"5"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"uri"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}},{kind:"Field",name:{kind:"Name",value:"trailer"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareUrl"}},{kind:"Field",name:{kind:"Name",value:"shareId"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"audioPreview"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}}]}},{kind:"Field",name:{kind:"Name",value:"audio"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"fileId"}},{kind:"Field",name:{kind:"Name",value:"format"}},{kind:"Field",name:{kind:"Name",value:"externallyHosted"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"releaseDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareUrl"}},{kind:"Field",name:{kind:"Name",value:"shareId"}}]}},{kind:"Field",name:{kind:"Name",value:"showTypes"}}]}},...ge.r.definitions,...ge.P.definitions]};var Ee=t(88522),fe=t(70369);const be="D2bY5qxLHAn3eKk_KL1e",Fe="IFf3MZs6ez70BhgD6R7c";var he=t(92851);const Pe=({title:e,uri:n,className:t})=>{const i=(0,he.$)(n);return a().createElement(ke.r,{"aria-label":e,className:ne()(Fe,t),to:i},a().createElement(v.Dy,{dir:"auto",variant:v.$e.mestoBold},e))};function Ce(e){return!!e.uri&&!!e.title}const Ie=({topics:e})=>a().createElement("div",{className:be},e.filter(Ce).map((e=>a().createElement(Pe,{key:e.uri,title:e.title,uri:e.uri})))),we="all-episodes",De=a().memo((e=>{const{uri:n}=e,{filterParamMap:t,getFilterParams:l,setFilterParams:r}=(0,j.uM)(n),o=l(),s=Array.from(t.values());s.unshift({key:we,value:d.ag.get("mwp.podcast.all.episodes")});const m=Array.from(t.keys()),c=(0,i.useCallback)((e=>{if(e===we)r([]);else{const n=m.find((n=>{var i;return(null===(i=t.get(n))||void 0===i?void 0:i.key)===e}));n&&r([n])}}),[r,m,t]);if(!t.size||!m)return null;let u=s[0];const k=Array.from(t.entries()).filter((e=>null==o?void 0:o.some((n=>n.field===e[0].field&&n.operator===e[0].operator))));return k.length>0&&(u=k[0][1]),a().createElement(oe.A,{options:s,onSelect:e=>c(e),selected:u,variant:v.Dy.balladBold,color:"var(--spice-text)"})}));var Ae=t(53424),Oe=t(30947),Me=t(59482),Re=t(72907),_e=t(51775);const Ue=(0,i.lazy)((()=>t.e(381).then(t.bind(t,18381))));function xe(e){return(0,ce.W6)(ue.$f)?a().createElement(i.Suspense,{fallback:!0},a().createElement(Ue,e)):null}const Te=e=>{var n,t,r,p,y,S,g;const{uri:N}=e,E=(0,m.o)(),f=(0,ce.W6)(ue.Cz),b=!(0,c.k)(),F=(0,M.g)(),[h,P]=(0,ye.Z)(N),C=(I={uri:N,offset:0,limit:10},w={cacheTime:15*Se.y},(0,Se.a)(Ne,I,w));var I,w;const D="Podcast"===(null===(n=C.data)||void 0===n||null===(t=n.podcastUnion)||void 0===t?void 0:t.__typename)?null===(r=C.data)||void 0===r?void 0:r.podcastUnion:void 0,{canSort:R,canFilter:x}=(0,j.uM)(N),{playerSort:z,playerFilter:L}=(0,j.x3)(N),[Z,$]=(0,i.useState)([]),[V,B]=(0,i.useState)("");(0,i.useEffect)((()=>{var e,n;const t=(0,Ee.l)((null==D||null===(e=D.coverArt)||void 0===e?void 0:e.sources)||[])||[];$(t),B((null==t||null===(n=t[0])||void 0===n?void 0:n.url)||"")}),[null==D?void 0:D.coverArt]);const[W,G]=(0,i.useState)([]);(0,i.useEffect)((()=>{var e,n;const t=(0,Ee.l)((null==D||null===(e=D.trailer)||void 0===e||null===(n=e.coverArt)||void 0===n?void 0:n.sources)||[]);G(t)}),[null==D||null===(p=D.trailer)||void 0===p||null===(y=p.coverArt)||void 0===y?void 0:y.sources]);const K=(0,de.Z)(V||null),{usePlayContextItem:H}=(0,ve.n)({uri:N,metadata:{[pe.sb.SORTING_CRITERIA]:z,[pe.sb.FILTERING_PREDICATE]:L}},{featureIdentifier:"show"}),Q=(null==D?void 0:D.trailer)||null,{isActive:X,isPlaying:J,togglePlay:ee}=H({uri:(null==Q?void 0:Q.uri)||""}),ne=(0,i.useCallback)((()=>{E({targetUri:N,intent:h?"unsave":"save",type:"click"}),P(!h)}),[E,N,h,P]),te=(0,i.useCallback)((()=>{E({intent:"expand-description",type:"click"})}),[E]),ie=(0,T.s)(Q,D),oe=(0,i.useCallback)((()=>{null!=Q&&Q.uri&&(F?ie():(E({targetUri:Q.uri,intent:J?"play":"pause",type:"click"}),ee()))}),[ie,F,J,E,ee,null==Q?void 0:Q.uri]),ge=(0,i.useMemo)((()=>{var e;return{title:(null==D?void 0:D.name)||"",subtitle:(null==D||null===(e=D.publisher)||void 0===e?void 0:e.name)||"",images:Z||[],type:Y.p.SHOW,displayType:"SHOW"===(null==D?void 0:D.type)?d.ag.get("type.show"):d.ag.get("type.podcast")}}),[D,Z]),{isXSOnly:be,isSMOnly:Fe}=(0,_e.e)(),he=be||Fe;if(!D)return a().createElement(u.h,{errorMessage:d.ag.get("error.not_found.title.podcast")});const Pe=(null==D||null===(S=D.topics)||void 0===S?void 0:S.items)||[],Ce=Pe.length>0,we=(null==D?void 0:D.description)||f&&(null==D?void 0:D.htmlDescription),Ue=we||Ce;return a().createElement("section",{className:l.Z.ShowPage},a().createElement(fe.$,null,d.ag.get("podcasts.show.seo.title",{name:D.name})),a().createElement(Ae.gF,{backgroundColor:K},a().createElement(Me.W,null,a().createElement(Re.i,{text:ge.title,dragUri:N,dragLabel:ge.title})),a().createElement("div",{className:l.Z.imageContainer},a().createElement(A._,{menu:a().createElement(re.M,{uri:N})},a().createElement(Ae.Oe,{loading:"eager",name:ge.title,images:ge.images,placeholderType:"show",shape:Ae.Kc.ROUNDED_CORNERS}))),a().createElement(Ae.sP,null,a().createElement(Ae.dy,{small:!0,uppercase:!0},"SHOW"===(null==D?void 0:D.type)?d.ag.get("type.show"):d.ag.get("type.podcast")),a().createElement(A._,{menu:a().createElement(re.M,{uri:N})},a().createElement(Ae.xd,{dragUri:N,dragLabel:ge.title},a().createElement("span",{"data-testid":"show-title"},ge.title))),a().createElement(Ae.dy,{large:!he,medium:he,bold:!0},ge.subtitle))),a().createElement(Oe.o,{backgroundColor:K},a().createElement(Oe.F,null,a().createElement(me.r,{key:"follow-button"},a().createElement(s.e,{isFollowing:h,onClick:ne,disabled:b})),a().createElement(U.y,{menu:a().createElement(re.M,{uri:N})},a().createElement(_.z,{label:d.ag.get("more.label.context",D.name)})))),a().createElement("div",{className:l.Z.ShowContent},a().createElement("div",{className:l.Z.metadata},Ue&&a().createElement(a().Fragment,null,a().createElement(v.Dy,{as:"h3",variant:v.$e.canon,color:"var(--spice-text)",className:l.Z.sectionTitle},d.ag.get("artist.about")),we&&a().createElement(k.o,{maxLines:4,content:((null==D?void 0:D.description)||"").trim(),onExpanded:te,htmlContent:f&&null!=D&&D.htmlDescription?null==D?void 0:D.htmlDescription:void 0,LinkComponent:ke.Z}),Ce&&a().createElement(Ie,{topics:Pe||[]})),a().createElement(xe,e),Q&&a().createElement(A._,{menu:a().createElement(O.k,{uri:Q.uri,showUri:null==D?void 0:D.uri,sharingInfo:Q.sharingInfo})},a().createElement(le,{className:l.Z.trailer,images:W,title:Q.name,duration:Q.duration.totalMilliseconds,moreButton:a().createElement(U.y,{menu:a().createElement(O.k,{uri:Q.uri,sharingInfo:Q.sharingInfo,showUri:null==D?void 0:D.uri})},a().createElement(_.z,null)),onClick:oe,isPlaying:J,isActive:X,size:ae.LARGE,contentRating:null===(g=Q.contentRating)||void 0===g?void 0:g.label}))),a().createElement("div",{className:l.Z.episodes,"data-testid":"show-all-episode-list"},a().createElement("div",{className:l.Z.episodesHeader},x&&a().createElement("div",{className:l.Z.episodesFilter},a().createElement(De,{uri:N})),!x&&a().createElement(v.Dy,{as:"h3",variant:v.$e.canon,color:"var(--spice-text)",className:l.Z.sectionTitle},d.ag.get("mwp.podcast.all.episodes")),R&&a().createElement("div",{className:l.Z.episodesSort},a().createElement(se,{uri:N}))),a().createElement(q,{show:D,usePlayContextItem:H})),a().createElement(o.k,{copyrights:[]})))},ze=a().memo((()=>{const{showId:e}=(0,r.UO)(),n=`spotify:show:${e}`;return a().createElement(i.Suspense,{fallback:null},a().createElement(Te,{uri:n,showId:e}))})),Le=ze},95289:(e,n,t)=>{t.d(n,{A:()=>N});var i=t(67294),a=t.n(i),l=t(94184),r=t.n(l);const d="_o8Iuf_330KFh6L9Os2E",o="NKjPwGdhYsd76cjIEqwP";var s=t(76343),m=t(26115),c=t(74594),u=t(20246),k=t(30005),v=t(21691),p=t(6577),y=t(62012),S=t(28248);const g=({selected:e,onSelect:n,options:t,sortOrder:i})=>{let l;return i&&(i===S.kn.ASC||i===S.kn.SECONDARY_ASC?l=a().createElement(p.c,{iconSize:16}):i!==S.kn.DESC&&i!==S.kn.SECONDARY_DESC||(l=a().createElement(y.e,{iconSize:16}))),a().createElement(k.v,null,t.map((({key:t,value:i})=>a().createElement(v.s,{role:"menuitemradio","aria-checked":t===e.key&&!l,key:t,onClick:()=>n(t),icon:t===e.key&&l},a().createElement(s.Dy,{variant:s.Dy.mesto},i)))))};const N=({options:e,selected:n,onSelect:t,isSelectionChanged:i,sortOrder:l,variant:k=s.Dy.mesto,color:v})=>{const[p]=e;n||(n=p);const y=i?i(n):n!==p;return a().createElement(u.y,{renderInline:!0,menu:a().createElement(g,{selected:n,options:e,onSelect:t,sortOrder:l})},((e,t,i)=>a().createElement("button",{className:r()(d,{[o]:y}),onClick:t,ref:i,type:"button"},a().createElement(s.Dy,{variant:k,color:v},n.value),e?a().createElement(m.q,{iconSize:16}):a().createElement(c.m,{iconSize:16}))))}},94233:(e,n,t)=>{t.d(n,{k:()=>d});var i=t(67294),a=t.n(i),l=t(76343);const r="hy_o5kP17ReI5uoHbM9Y",d=({copyrights:e,courtesyLine:n})=>{const t=(e||[]).map(((e,n)=>{const t=e.text.replace(/^(\(C\)\s+)/,"").replace(/^(\(P\)\s+)/,"").replace(/^(Â©\s+)/,"").replace(/^(â\s+)/,"");let i;return i="C"===e.type?"Â©":"P"===e.type?"â":`(${e.type})`,a().createElement(l.Dy,{as:"p",variant:l.Dy.finale,key:n,dir:"auto"},`${i} ${t}`)}));return n&&t.unshift(a().createElement(l.Dy,{as:"p",variant:l.Dy.finale,key:t.length,dir:"auto"},n)),a().createElement("div",{className:r},t)}},14535:(e,n,t)=>{t.d(n,{e:()=>c});var i=t(67294),a=t.n(i),l=t(20657),r=t(94184),d=t.n(r);const o="kc0nmjJmNuPr8akFaK6s",s="f2DTOjNfjAyj7fze7fMJ",m="PYYLSf2sFSGNKDBbzayi",c=a().memo((({isFollowing:e,onClick:n,disabled:t=!1})=>{const i=e?l.ag.get("following"):l.ag.get("follow");return a().createElement("button",{type:"button",className:d()(o,{[s]:e,[m]:t}),onClick:n},i)}))}}]);
//# sourceMappingURL=xpui-routes-show.js.map