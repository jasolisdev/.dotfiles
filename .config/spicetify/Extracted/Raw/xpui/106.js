"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[106],{36685:(e,a,n)=>{n.d(a,{L:()=>m});var t=n(67294),i=n.n(t),l=n(91802),r=n(28248);n(98984);const o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryAlbumTracks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"album"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}}]}},{kind:"Field",name:{kind:"Name",value:"tracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"saved"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"playcount"}},{kind:"Field",name:{kind:"Name",value:"discNumber"}},{kind:"Field",name:{kind:"Name",value:"trackNumber"}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"relinkingInformation"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"isRelinked"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"10"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]}}]}}]}}]}}]};var s=n(42922),d=n(29064),u=n(88581);function c(e){return e.total_count>=2&&e.total_count<=10}const m=i().memo((({ariaLabel:e,nrTracks:a,discs:n,albumUri:m,highlightUri:k,scrollToIndex:v,usePlayContextItem:g,hasHeaderRow:N=!0})=>{const b=(0,d.ZO)()===u.W2.Web,{request:f}=(0,t.useContext)(l.Ax),p=(0,t.useRef)(null),y=(0,t.useRef)(!1),[S,E]=(0,t.useState)(null);(0,t.useEffect)((()=>{p.current&&(S?p.current.scrollToIndex(S):v&&p.current.scrollToIndex(v))}),[S,v]);const h=(0,t.useMemo)((()=>function(e){return c(e)?e.items.reduce(((e,a)=>(e.push(a.number-1),e.concat(Array(a.total_tracks).fill(a.number)))),[]):null}(n)),[n]),w=(0,t.useCallback)(((e,a)=>f(o,{uri:m,offset:null!==h?e-h[e]:e,limit:a}).then((e=>{var a,t;if(k&&!S){var i,l,r;const a=null==e||null===(i=e.data)||void 0===i||null===(l=i.album)||void 0===l||null===(r=l.tracks.items)||void 0===r?void 0:r.findIndex((e=>e.track.uri===k));E(a||-1)}return((e,a)=>{if(!c(a)||!e)return e;let n=0;return e.reduce(((e,a)=>((a.track.trackNumber<n||1===a.track.trackNumber)&&e.push({discNumber:a.track.discNumber}),e.push(a),n=a.track.trackNumber,e)),[])})(null==e||null===(a=e.data)||void 0===a||null===(t=a.album)||void 0===t?void 0:t.tracks.items,n)||[]}))),[f,m,h,k,S,n]),I=(0,t.useCallback)(((e,a)=>{var n,t,l;if("discNumber"in e)return i().createElement(r.UT,{key:a+e.discNumber,discNumber:e.discNumber});const{uid:o,track:s}=e;let d;d=null!==(n=s.relinkingInformation)&&void 0!==n&&n.isRelinked?s.relinkingInformation.uri:s.uri;const u=s.playcount?parseInt(s.playcount,10):0,c=!y.current&&(k===s.uri||k===(null===(t=s.relinkingInformation)||void 0===t?void 0:t.uri));return c&&(y.current=!0),i().createElement(r.Ym,{key:a+s.uri,index:a,trackNumber:s.trackNumber,contextUri:m,uri:d,uid:o,duration_ms:s.duration.totalMilliseconds,name:s.name,isPlayable:s.playability.playable,artists:s.artists.items,contentRating:null===(l=s.contentRating)||void 0===l?void 0:l.label,playcount:u,shouldRenderPlayCount:!b,shouldHighLight:c,usePlayContextItem:g})}),[k,m,b,g]),D=(0,t.useMemo)((()=>(e=>e?[r.QD.INDEX,r.QD.TITLE,r.QD.DURATION]:[r.QD.INDEX,r.QD.TITLE,r.QD.PLAYS,r.QD.DURATION])(b)),[b]),F=(0,t.useCallback)((e=>"track"in e?e.track.uri:""),[]);return i().createElement(s.ZP,{value:"album-tracklist"},i().createElement(r.Pv,{key:m,ariaLabel:e,hasHeaderRow:N,rowPlaceholder:r.uD,columns:D,renderRow:I,resolveUri:F,nrTracks:c(n)?n.total_count+a:a,fetchTracks:w,limit:300,outerRef:p}))}))},42811:(e,a,n)=>{n.d(a,{Hr:()=>i,qo:()=>l,GJ:()=>r,B$:()=>o,pf:()=>s,ak:()=>d,B:()=>u,X7:()=>c});var t=n(7073);const i=e=>e?e.reduce(((e,a)=>(e.push(a.releases.items[0]),e)),[]):[],l=e=>`spotify:artist:${e}`,r=e=>`spotify:app:artist:${e}`,o=(e,a,n)=>{var t,i;return{artists:[{uri:a,name:n}],images:(null===(t=e.coverArt)||void 0===t?void 0:t.sources)||[],name:e.name,uri:e.uri,year:null===(i=e.date)||void 0===i?void 0:i.year,type:e.type,sharingInfo:e.sharingInfo}},s=e=>{var a,n;return{artists:e.artists.items.map((e=>({uri:e.uri,name:e.profile.name}))),images:(null===(a=e.coverArt)||void 0===a?void 0:a.sources)||[],name:e.name,uri:e.uri,year:null===(n=e.date)||void 0===n?void 0:n.year,type:e.type,sharingInfo:e.sharingInfo}},d=({uri:e,profile:{name:a},visuals:{avatarImage:n}})=>({uri:e,name:a,images:(null==n?void 0:n.sources)||[]}),u=({uri:e,name:a,description:n,images:{items:t},owner:i})=>({uri:e,name:a,owner:{display_name:(null==i?void 0:i.name)||a},description:n||"",images:t[0]&&t[0].sources?t[0].sources:[]}),c=({track:{uri:e,name:a,playcount:n,duration:{totalMilliseconds:i},contentRating:l,artists:{items:r},album:{coverArt:o,uri:s},playability:{playable:d}}},u)=>{var c;return{uri:e,contextUri:u,totalMilliseconds:i,name:a,contentRating:(null==l?void 0:l.label)||t.KS.None,isPlayable:d,playcount:parseInt(n||"0",10),artists:r.map((e=>({uri:e.uri,name:e.profile.name}))),imageUrl:null!=o&&null!==(c=o.sources)&&void 0!==c&&c.length?o.sources[0].url:"",albumUri:s}}},90110:(e,a,n)=>{n.d(a,{q:()=>D,o:()=>T});var t=n(67294),i=n.n(t),l=n(69518),r=n.n(l),o=n(50020),s=n(96895),d=n(24656),u=n(69010),c=n(94184),m=n.n(c);const k="_d4_L7w1NI7t09jkH7cu",v="q6RbWlHDlbjkbXsca2Yd",g="YuL8TZO5okStcwZtm4zm",N="_TQIlzCUR8U8a6e2b1GQ",b="UvNLcAhjESB_LRPqmfOK",f="JRR8DDodD_hwH0AdW_Z1",p="_YsfF19yZTzikt2Ed8hB";var y=n(6116),S=n(20657),E=n(40080),h=n(38209);var w=n(80946),I=n(83692);let D;!function(e){e[e.sm=24]="sm",e[e.md=32]="md"}(D||(D={}));const F=e=>{const{currentTarget:a,detail:n}=e;n>0&&a&&a.blur()},T=({uri:e,isFollowing:a,onFollow:n,size:l=D.sm,className:c})=>{const T={"--size":`${l}px`},{useDownloading:A,useDownloadCapability:C}=(0,t.useContext)(d.I),[L,R]=(0,t.useState)(!1),[O,P]=C(r().isEpisode(e)),[_,x]=(0,t.useState)(!1),{currentAvailability:V,progress:U,beginDownload:Y,clearDownload:$}=A(e);((e,a)=>{const n=(0,h.r)(),i=(0,t.useRef)(!1);(0,t.useEffect)((()=>{e===u.V8.DOWNLOADING&&!1===i.current&&(i.current=!0,n.say(S.ag.get("download.downloading",a.totalItems)))}),[n,e,a]);const l=(0,E.D)(e);(0,t.useEffect)((()=>{l===u.V8.DOWNLOADING&&e===u.V8.YES&&(i.current=!1,n.say(S.ag.get("download.complete")))}),[n,l,e])})(V,U);const W=(0,t.useCallback)((e=>{P===u.v$.DOWNLOADING_NOT_ALLOWED?x(!0):!1===a?(n(),R(!0)):Y(),F(e)}),[Y,P,a,n]),z=(0,t.useCallback)((e=>{$(),F(e)}),[$]);return(0,t.useEffect)((()=>{!0===L&&!0===a&&(Y(),R(!1))}),[a,L,Y]),O===u.PQ.NO_DOWNLOAD_CAPABILITY?null:P===u.v$.DOWNLOADING_NOT_ALLOWED?i().createElement("div",{className:v},i().createElement(I.w,{label:S.ag.get("download.download")},i().createElement("button",{className:m()(g,c),role:"switch",onClick:W,"aria-label":S.ag.get("download.download"),"aria-checked":!1},i().createElement(o.a,{iconSize:l}))),_&&i().createElement("div",{className:p},i().createElement(w.E,{withTopLeftPointer:!0,horizontal:!0,onClose:()=>{x(!1)}},S.ag.get("download.upsell")))):V===u.V8.YES?i().createElement(I.w,{label:S.ag.get("download.remove")},i().createElement("button",{className:m()(g,c,N),role:"switch",onClick:z,"aria-label":S.ag.get("download.remove"),"aria-checked":!0},i().createElement(s.C,{iconSize:l}))):V===u.V8.NO?i().createElement(I.w,{label:S.ag.get("download.download")},i().createElement("button",{className:m()(g,c),role:"switch",onClick:W,"aria-label":S.ag.get("download.download"),"aria-checked":!1},i().createElement(o.a,{iconSize:l}))):i().createElement("div",{className:m()(b,c),role:"switch","aria-checked":!0},i().createElement(I.w,{label:S.ag.get("download.cancel")},i().createElement("button",{style:T,className:m()(g,k,c),onClick:z,"aria-label":S.ag.get("download.cancel")})),i().createElement("span",{style:T,className:m()(f,k)},i().createElement(y.e,{"aria-valuetext":S.ag.get("progress.downloading-tracks"),percentage:U.percentage,size:l})))}},13768:(e,a,n)=>{n.d(a,{i:()=>m});var t=n(67294),i=n.n(t),l=n(8498),r=n(36590),o=n(20657),s=n(27298),d=n(18261),u=n(4232),c=n(48528);const m=i().memo((function(e){const{entity:{images:a,name:n,uri:t,type:m,year:k,sharingInfo:v},latest:g,showType:N,onClick:b,delegatePlayback:f=!1,isPlaying:p,onPlay:y}=e,S=g?o.ag.get("artist.latest-release"):k;return i().createElement(d._,{menu:i().createElement(u.Y,{uri:t,sharingInfo:v})},i().createElement(r.C,{onClick:b,featureIdentifier:"album",headerText:n,uri:t,delegatePlayback:f,isPlaying:p,onPlay:y,renderCardImage:()=>i().createElement(l.x,{images:a}),renderSubHeaderContent:()=>i().createElement(i().Fragment,null,S&&i().createElement("time",{dateTime:(k||"").toString()},S),N&&i().createElement("span",{className:s.Z.type},(0,c.R)(m)))}))}))},22578:(e,a,n)=>{n.d(a,{$:()=>k});var t=n(20657),i=n(67294),l=n.n(i),r=n(64593),o=n(8341),s=n(83693),d=n(76303),u=n(47886),c=n(24183);function m(e){return e.includes("Spotify")?e:`Spotify – ${e}`}const k=({children:e})=>{let a=m(e);(e=>{const{mainLandmarkRef:a}=(0,c.Oh)(),n=(0,u.k6)(),t=(0,i.useRef)(n.length<2);t.current=n.length<2,(0,i.useEffect)((()=>{const n=a.current;n&&!t.current&&e&&(n.setAttribute("aria-label",e),n.focus())}),[e,a])})(e);const n=(0,o.Y)(d.o9)===s.PO.PLAYING,k=(0,o.Y)((e=>null==e?void 0:e.item));return k&&n&&((0,s.G_)(k)?a=[k.name,k.artists.map((e=>e.name)).join(t.ag.getSeparator())].join(" · "):(0,s.iw)(k)?a=[k.name,k.show.name].join(" · "):(0,s.k6)(k)&&(a=m(t.ag.get("ad-formats.advertisement")))),l().createElement(r.q,{defaultTitle:"Spotify",defer:!1},l().createElement("title",null,a))}},70369:(e,a,n)=>{n.d(a,{$:()=>t.$});var t=n(22578)},94233:(e,a,n)=>{n.d(a,{k:()=>o});var t=n(67294),i=n.n(t),l=n(76343);const r="hy_o5kP17ReI5uoHbM9Y",o=({copyrights:e,courtesyLine:a})=>{const n=(e||[]).map(((e,a)=>{const n=e.text.replace(/^(\(C\)\s+)/,"").replace(/^(\(P\)\s+)/,"").replace(/^(©\s+)/,"").replace(/^(℗\s+)/,"");let t;return t="C"===e.type?"©":"P"===e.type?"℗":`(${e.type})`,i().createElement(l.Dy,{as:"p",variant:l.Dy.finale,key:a,dir:"auto"},`${t} ${n}`)}));return a&&n.unshift(i().createElement(l.Dy,{as:"p",variant:l.Dy.finale,key:n.length,dir:"auto"},a)),i().createElement("div",{className:r},n)}},40080:(e,a,n)=>{n.d(a,{D:()=>i});var t=n(67294);function i(e){const a=(0,t.useRef)();return(0,t.useEffect)((()=>{a.current=e}),[e]),a.current}},48528:(e,a,n)=>{n.d(a,{R:()=>l});var t=n(20657),i=n(15066);function l(e){switch(e){case i.n.SINGLE:return t.ag.get("single");case i.n.EP:return t.ag.get("ep");case i.n.COMPILATION:return t.ag.get("compilation");case i.n.ALBUM:default:return t.ag.get("album")}}}}]);
//# sourceMappingURL=106.js.map