"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[696],{38696:(t,e,o)=>{o.r(e),o.d(e,{EpisodeSponsorNowPlayingBarHatIfPodcastAdIsPlaying:()=>f,default:()=>b});var n=o(67294),d=o.n(n),a=o(53226);const s=["podcast-preroll","podcast-midroll-1","podcast-midroll-2","podcast-midroll-3","podcast-midroll-4","podcast-midroll-5","podcast-postroll"];function i({eventTypesToSubscribeTo:t,onPodcastAdEvent:e,onError:o}){const n=t.flatMap((t=>s.map((n=>(0,a.oc)(t,e,o,{slot:n})))));return()=>n.forEach((({cancel:t})=>t()))}const c=["started","resumed","ended"];function l({subscribeToPodcastAdEvents:t=i}={}){const[e,o]=(0,n.useState)(),{hidingHat:d,setHidingHat:a}=function(){const[t,e]=(0,n.useState)();return{hidingHat:t,setHidingHat:e}}();return(0,n.useEffect)((()=>{let n=!1;const d=t({eventTypesToSubscribeTo:c,async onPodcastAdEvent(t){const d="started"===(s=t.event_type)||"resumed"===s?s:void 0;var s;const i=Boolean(d&&"cta_card_sai"===t.ad.metadata.product_name),c=Boolean(e&&i&&e.ad.id===t.ad.id)?void 0:new Promise((t=>setTimeout((()=>{n||(o(void 0),a(void 0)),t()}),250)));c&&a(c),i&&(await c,o(t))}});return()=>{n=!0,d()}}),[e,a,t]),{activeAdEvent:e,hidingHat:d}}var r=o(8341),u=o(83693),v=o(23716);const p=(0,n.lazy)((()=>o.e(375).then(o.bind(o,10375))));function f({subscribeToPodcastAdEvents:t,clickEventPosterForEpisodeSponsorNowPlayingBarHat:e}){const o=(0,v.g)(),a=(0,r.Y)((t=>{var e;const o=null!==(e=null==t?void 0:t.item)&&void 0!==e?e:void 0;return(0,u.k6)(o)&&o.isPodcastAd?o:null}),((t,e)=>(null==t?void 0:t.uri)===(null==e?void 0:e.uri))),{activeAdEvent:s,hidingHat:i}=l({subscribeToPodcastAdEvents:t});return(a||i)&&s?d().createElement(n.Suspense,{fallback:!0},d().createElement(p,{adEvent:s,ad:a,hidingHat:i,postClickEvent:null==e?void 0:e(s.ad.id,o)})):null}const b=f}}]);
//# sourceMappingURL=696.js.map