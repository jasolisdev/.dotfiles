"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[219],{30310:(e,n,i)=>{i.d(n,{g:()=>f});var a=i(67294),t=i.n(a),l=i(94184),d=i.n(l),s=i(63926),r=i(52687);const o=({renderItems:e,nrItems:n,estimatedItemMaxHeight:i,scrollNodeRef:l,nrRowsOverscan:d=5})=>{const o=(0,a.useRef)(null),m=(0,a.useRef)(null),u=(0,a.useRef)(null),c=(0,a.useRef)(0),k=(0,a.useRef)({rowCount:0,rowHeight:i,columnCount:1}),[v,N]=(0,a.useState)({firstItemToRender:0,lastItemToRender:-1}),p=(0,a.useCallback)(((e,n)=>{const i=l.current;if(!i)return;const a=Math.floor(i.offsetHeight/n)+2*d;k.current={rowCount:a,rowHeight:n,columnCount:e}}),[d,l]),S=(0,a.useCallback)((()=>{const e=l.current;if(!e)return;const i=Math.floor((e.scrollTop-c.current)/k.current.rowHeight),a=Math.max(i-d,0),t=a*k.current.columnCount,s=Math.min((a+k.current.rowCount-1)*k.current.columnCount-1,n-1);t===v.firstItemToRender&&s===v.lastItemToRender||N({firstItemToRender:t,lastItemToRender:s})}),[v.firstItemToRender,v.lastItemToRender,n,d,l]),f=(0,a.useCallback)(((n,i,a)=>{const t=a+s.w;return t!==k.current.rowHeight&&n>0&&(p(n,t),S()),e(v.firstItemToRender,v.lastItemToRender,n)}),[p,v.firstItemToRender,v.lastItemToRender,S,e]);(0,a.useEffect)((()=>{const e=u.current,n=l.current;e&&n&&(c.current=e.getBoundingClientRect().top-n.getBoundingClientRect().top+n.scrollTop)}),[l]),(0,a.useEffect)((()=>{if(!window.IntersectionObserver)return()=>{};const e=new window.IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&S()}))}));return o.current&&e.observe(o.current),m.current&&e.observe(m.current),()=>{e.disconnect()}}),[S]);const y=Math.ceil(n/k.current.columnCount),g=Math.min(y*k.current.rowHeight,k.current.rowHeight*(d-2)),h=k.current.rowHeight*(v.firstItemToRender/k.current.columnCount),b=v.lastItemToRender/k.current.columnCount+1<y?k.current.rowHeight*(y-k.current.rowCount)-h:0;return t().createElement("div",{ref:u,className:r.Z.wrapper,style:{height:y*k.current.rowHeight+"px"}},t().createElement("div",{ref:o,className:r.Z.topSentinel,style:{height:`${h+g}px`}},t().createElement("div",{style:{height:`${g}px`}})),t().createElement("div",{style:{transform:`translateY(${h}px)`}},t().createElement(s.T,{columnAware:!0,rowAware:!0,render:f})),t().createElement("div",{ref:m,className:r.Z.bottomSentinel,style:{height:`${b+g}px`}},t().createElement("div",{style:{height:`${g}px`}})))};var m=i(59713),u=i.n(m);function c(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,a)}return i}function k(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?c(Object(i),!0).forEach((function(n){u()(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}function v(){const e=(e,n)=>{switch(n.type){case"INVALIDATE":return k(k({},e),{},{isValid:!1});case"CACHE_ITEMS":return e.isValid?k(k({},e),{},{items:k(k({},e.items),n.data),hasData:!0}):{isValid:!0,items:k({},n.data),hasData:!0};default:throw new Error("Action not supported")}},[n,i]=(0,a.useReducer)(e,{items:{},isValid:!0,hasData:!1});return{cacheItems:(0,a.useCallback)(((e,n)=>{const a=e.reduce(((e,i,a)=>(e[a+n]=i,e)),{});i({type:"CACHE_ITEMS",data:a})}),[i]),getCachedItems:(0,a.useCallback)(((e,i)=>{const a=[],t=[];for(let l=e;l<=i;l++)n.items[l]||a.push(l),t.push(n.items[l]);return n.isValid?{items:t,missing:a.length>0?{firstMissingIndex:Math.min(...a),lastMissingIndex:Math.max(...a)}:null}:{items:t,missing:{firstMissingIndex:e,lastMissingIndex:i}}}),[n]),invalidateCache:(0,a.useCallback)((()=>{i({type:"INVALIDATE"})}),[i]),hasCachedData:n.hasData}}var N=i(32648),p=i(56170);const S="eZ7jEw9xuzosqgETL17f";function f({renderCard:e,nrCards:n,fetchData:i,limit:l=50,cardGridApiRef:s}){const{scrollNodeRef:r}=(0,a.useContext)(N.VX),{invalidateCache:m,getItemsFromCache:u,hasCachedData:c}=function(e){const{getCachedItems:n,cacheItems:i,invalidateCache:t,hasCachedData:l}=v(),d=(0,a.useRef)(!1),s=(0,a.useRef)(!1);(0,a.useEffect)((()=>(s.current=!0,()=>{s.current=!1})));const r=(0,a.useCallback)(((n,a)=>{const t=Math.max(n,0);d.current||(d.current=!0,e(t,a).then((e=>{d.current=!1,e.length>0&&s.current&&i(e,t)})))}),[i,e]);return{invalidateCache:t,getItemsFromCache:(0,a.useCallback)(((e,i,a)=>{const{items:t,missing:l}=n(e,i);if(l){const{firstMissingIndex:n,lastMissingIndex:t}=l;t===i?r(n,a):n===e?r(t-a+1,a):r(n,t-n+1)}return t}),[r,n]),hasCachedData:l}}(i);(0,a.useImperativeHandle)(s,(()=>({update:()=>m()})));return t().createElement("div",{className:d()({[S]:!c})},t().createElement(o,{renderItems:(i,a,d)=>{const s=u(i,a,l);return-1===a&&n>0?[t().createElement(p.P,{key:"placeholder"})]:s.map(((n,a)=>n?e(n,i+a,d):t().createElement(p.P,{key:a})))},scrollNodeRef:r,nrItems:n,estimatedItemMaxHeight:500}))}},22578:(e,n,i)=>{i.d(n,{$:()=>k});var a=i(20657),t=i(67294),l=i.n(t),d=i(64593),s=i(8341),r=i(83693),o=i(76303),m=i(47886),u=i(24183);function c(e){return e.includes("Spotify")?e:`Spotify – ${e}`}const k=({children:e})=>{let n=c(e);(e=>{const{mainLandmarkRef:n}=(0,u.Oh)(),i=(0,m.k6)(),a=(0,t.useRef)(i.length<2);a.current=i.length<2,(0,t.useEffect)((()=>{const i=n.current;i&&!a.current&&e&&(i.setAttribute("aria-label",e),i.focus())}),[e,n])})(e);const i=(0,s.Y)(o.o9)===r.PO.PLAYING,k=(0,s.Y)((e=>null==e?void 0:e.item));return k&&i&&((0,r.G_)(k)?n=[k.name,k.artists.map((e=>e.name)).join(a.ag.getSeparator())].join(" · "):(0,r.iw)(k)?n=[k.name,k.show.name].join(" · "):(0,r.k6)(k)&&(n=c(a.ag.get("ad-formats.advertisement")))),l().createElement(d.q,{defaultTitle:"Spotify",defer:!1},l().createElement("title",null,n))}},73546:(e,n,i)=>{i.d(n,{M:()=>C});var a=i(67294),t=i.n(a),l=i(94184),d=i.n(l),s=i(47886),r=i(69518),o=i.n(r),m=i(20657),u=i(98742),c=i(86446);const k="_UTWTgKCqE8eruFNFAMf",v="G9iUss4eOSpJyn2VBzsS",N="AdgRS9ehCGsr8dvJ7IxK",p="c16n2m346Ss2TcRUx8Bw",S="g7ggq46CbOli19ZxJlQe",f="_6e_T5d5DVIdzLw3pCIw",y="BDcKgSW_ys9_Hj2DwDBW";var g=i(65858),h=i(1393),b=i(32648),F=i(64005),D=i(78034),T=i(57395);const C=t().memo((({onSearch:e=!0})=>{const n=(0,a.useRef)(null),i=(0,a.useRef)(null),l=(0,s.k6)(),r=(0,g.I0)(),[{category:C,query:E},V]=(0,T.l)(),[R,w]=(0,a.useState)(E),I=!!C,{scrollNodeRef:A}=t().useContext(b.VX),q=new URLSearchParams(location.search),P=Boolean(q.get("showRecent")),O=I||P,x=(0,F.y)(((e,n)=>{V(e,n),A.current&&(A.current.scrollTop=0)}),200);(0,a.useEffect)((()=>{!O&&e&&n.current!==document.activeElement&&(i.current=document.activeElement,n.current&&n.current.focus())}),[l.location.key,e,O]);return t().createElement("div",{className:d()(k,{[N]:!e})},t().createElement("form",{onSubmit:e=>{e.preventDefault();const n=o().from(R);var i,a;if(n)if(n.type===o().Type.AD){const e=o().idToHex(n.getBase62Id());if(n.getBase62Id()===e)return;r((0,h.HI)(e))}else l.push(n.toURLPath(!0));else R&&(null===(i=A.current)||void 0===i||null===(a=i.querySelector("h1, h2, h3, h4"))||void 0===a||a.focus())},role:"search"},t().createElement("input",{ref:n,className:d()(v,D.Z.mesto),value:R,maxLength:80,autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,onChange:e=>{const n=e.currentTarget.value;w(n),x(n,O)},onKeyDown:e=>{"Escape"===e.key&&(R?(w(""),x("",O)):(n.current&&n.current.blur(),i.current instanceof HTMLElement&&i.current.focus()))},placeholder:e?m.ag.get("search.search-for-label"):m.ag.get("navbar.search"),onFocus:()=>{!O&&e||x(R,O)},"data-testid":"search-input"})),t().createElement("div",{className:f},t().createElement("span",{className:p},t().createElement(c.W,{size:24,viewBox:"0 0 512 512",className:y,"aria-hidden":!0})),R&&t().createElement("button",{className:S,onClick:()=>{n.current&&n.current.focus(),w(""),x("",O)},"aria-label":m.ag.get("search.a11y.clear-input")},t().createElement(u.T,{size:24,className:y}))))}))},65061:(e,n,i)=>{i.r(n),i.d(n,{SearchPage:()=>En,default:()=>Vn,routes:()=>Cn});var a=i(67294),t=i.n(a);const l=(0,a.createContext)(null);function d(){const e=(0,a.useContext)(l);if(null===e)throw new Error("Trying to use 'SearchContext' without 'SearchProvider'!");return e}var s=i(20657),r=i(47886),o=(i(45697),i(98742));const m="m9fb901p8N6KPsdlYtSF";class u extends t().Component{render(){const{onClick:e,size:n}=this.props;return t().createElement("button",{style:{"--size":`${n}px`},className:m,onClick:e,"aria-label":"Remove"},t().createElement(o.T,{size:n-4}))}}u.defaultProps={size:32};var c=i(42922),k=i(76343),v=i(19480),N=i(56661),p=i(64437);const S="zb8zwjbo6rUH_KyZgGr4",f="_8qrAeQGL3L1QNfrD3Js",y="_ueHVYQyVTh17hlMyLp6",g="_A1PaiYIJNnGUVS12rjz",h=()=>{const{searchHistory:e,clearSearchHistory:n}=(0,p.u)(),{showRecent:i,onSearchRequest:a}=d();return e.length>0?t().createElement("div",{className:S},t().createElement(v.P,{total:e.length,seeAllUri:"spotify:app:recent-searches",title:s.ag.get("search.title.recent-searches"),showAll:i},e.map(((e,i)=>{const a=(0,N.U)(e.uri);return t().createElement("div",{className:y,key:e.uri},t().createElement(c.ZP,{index:i,value:"search-history"},t().createElement(a,{entity:e}),t().createElement("div",{className:g},t().createElement(u,{size:28,onClick:()=>n(e.uri)}))))}))),i?t().createElement("button",{onClick:()=>{n(),a("")},className:f},t().createElement(k.Dy,{as:"span",variant:k.Dy.minuetBold},s.ag.get("search.clear-recent-searches"))):null):null};var b=i(73012),F=i(63926);const D=[["artists",()=>s.ag.get("search.title.artists")],["albums",()=>s.ag.get("search.title.albums")],["playlists",()=>s.ag.get("search.title.playlists")],["podcasts",()=>s.ag.get("search.title.shows")],["episodes",()=>s.ag.get("search.title.episodes")],["users",()=>s.ag.get("search.title.profiles")],["genres",()=>s.ag.get("search.title.genres")]];var T=i(94184),C=i.n(T),E=i(67892),V=i(70666),R=i(28248),w=i(47991),I=i(49961);const A=t().memo((({tracks:e,query:n})=>{const i=(0,a.useCallback)(((e,n)=>{const i=(0,I.X)(e.album.images,{desiredSize:40}),a=!(!1===e.is_playable);return t().createElement(R.pt,{key:e.uri,index:n,uri:(0,w.$V)(e),duration_ms:e.duration_ms,name:e.name,album:e.album,artists:e.artists,isPlayable:a,isExplicit:!!e.explicit,isMOGEFRestricted:e.isMOGEFRestricted,imgUrl:(null==i?void 0:i.url)||""})}),[]),l=(0,a.useMemo)((()=>[R.QD.TITLE,R.QD.DURATION]),[]),d=(0,a.useCallback)((e=>e.uri),[]);return e&&t().createElement(c.ZP,{value:"search-results-tracklist"},t().createElement(R.Pv,{key:n,ariaLabel:s.ag.get("search.a11y.songs-search-results"),renderRow:i,rowPlaceholder:R.hU,nrTracks:Math.min(e.length,4),tracks:e,resolveUri:d,columns:l}))}),((e,n)=>e.tracks===n.tracks)),q="KWlgbY4K05Kp69UhLgqV",P="D0IK9Svnu_l0njWjiUWE",O="Y0wajY8D1z0fVloL_xPN",x="DkSEz1aZDc1BSKNS3SQP",M="HndBEeJcha_e2OzeQ42l",U="BK2rw__dJJhyGqHfaoDX",_=({tracks:e,query:n,className:i})=>{const l=(0,a.useCallback)((()=>t().createElement("div",{className:U},t().createElement(a.Suspense,{fallback:null},t().createElement(A,{tracks:e.items,query:n})))),[n,e]);if(!e.items.length)return null;const d=`spotify:app:search:${encodeURIComponent(n)}:tracks`;return t().createElement("section",{className:C()(M,i),"aria-label":s.ag.get("search.title.tracks"),"data-testid":"search-tracks-result"},t().createElement("div",{className:q},e.items.length>3?t().createElement("div",{className:P},t().createElement("div",{className:O},t().createElement(k.Dy,{as:"h2",variant:k.Dy.canon},t().createElement(E.r,{to:d,className:x},s.ag.get("search.title.tracks")))),t().createElement(V.e,{link:d})):t().createElement(k.Dy,{as:"h2",variant:k.Dy.canon,className:x},s.ag.get("search.title.tracks"))),t().createElement(F.T,{render:l}))},H=e=>{const{title:n,category:i,query:a,results:l,onAddToHistory:d}=e,{items:s,totalCount:r}=l;if(!s||0===s.length)return null;const[o]=s,m=(0,N.U)(o.uri);return t().createElement(v.P,{total:r||0,title:n,testId:`${i}-search-entity`,seeAllUri:`spotify:app:search:${encodeURIComponent(a)}:${i}`},s.map(((e,n)=>t().createElement(c.ZP,{value:i,index:n,key:e.uri},t().createElement(m,{onClick:()=>d(e),onPlay:()=>d(e),entity:e})))))},z=({topRecommendations:e,query:n,className:i,onAddToHistory:a})=>{const l=e.totalCount||0;return t().createElement(v.P,{className:i,total:l,title:s.ag.get("artist-page.featuring",e.artistName),seeAllUri:`spotify:app:search:${encodeURIComponent(n)}:topRecommendations`},e.items.map(((e,n)=>{const i=(0,N.U)(e.uri);return t().createElement(c.ZP,{index:n,key:e.uri,value:"top-recommendations"},t().createElement(i,{onClick:()=>a(e),onPlay:()=>a(e),entity:e}))})))},j="WkCAIvmQdYatDmELHQ7w",G="qTA1_HcyahaD_UW_WDb4",L="uOSx6a8VX6mLSNsHlSfF",$="eXgCutDrJzqkE7cSrzaV",Z="_MTJLpuCC1HvVsqUXldK",B="WfvRj74y3yKzsLycwH8_",Q="cU5tVXGVP2TioChimi2U",W="z2XZy8E7zhEm3_72ESqY",K=({topResults:e,onAddToHistory:n})=>{const[i]=e.items,a=i&&(0,N.U)(i.uri);return i&&t().createElement(v.P,{total:1,className:j,title:s.ag.get("search.title.top-result")},[t().createElement("div",{"aria-live":"polite","data-testid":"top-result-card",key:"top-result-item",className:G},t().createElement(c.ZP,{value:"top-result-card"},t().createElement(a,{isHero:!0,onClick:()=>n(i),onPlay:()=>n(i),key:i.uri,entity:i})))])},J=({results:e})=>{const{query:n,onAddToHistory:i}=d(),a=e.topResults.items.length>0,l=e.tracks.items.length>0,s=e.topRecommendations.items.length>0;return t().createElement(F.T,{className:L,rowGap:b.mGT,testId:"search-results",columnAware:!0,render:d=>{let r,o;return a?r=d>3?Z:B:s&&(d>5&&l?(r=$,o=Q):(r=B,o=W)),t().createElement(c.ZP,{value:"search-results"},a&&t().createElement(K,{topResults:e.topResults,onAddToHistory:i}),l&&t().createElement(_,{className:r,query:n,tracks:e.tracks,onAddToHistory:i}),s&&t().createElement(z,{query:n,className:o,topRecommendations:e.topRecommendations,onAddToHistory:i}),D.map((([a,l])=>t().createElement(H,{key:`search-shelf-${a}`,category:a,title:l(),query:n,results:e[a],onAddToHistory:i}))))}})},X="pJ6_ljR_Gy5fPlFSb3EA",Y="BQ_IRUJ0NjT3VkCjWvr8",ee="PU_HEIECmIb3dkRj2rzy",ne=()=>{const{query:e}=d();return t().createElement("div",{className:X,"aria-live":"polite"},t().createElement(k.Dy,{as:"h1",variant:k.Dy.canon,className:Y},s.ag.get("search.empty-results-title",e)),t().createElement("p",{className:ee},s.ag.get("search.empty-results-text")))};var ie=i(30310),ae=i(46309);const te="_6fX6CkCbIQu4D9m86yP",le=function(){const e=(0,a.useRef)(!0);(0,a.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]);const{api:n,query:i,onAddToHistory:l}=d(),[r,o]=(0,a.useState)(s.ag.get("artist-page.featuring",i)),m=(0,a.useCallback)((async()=>{const a=await n.getTopRecommendations(i);return e.current&&o(s.ag.get("artist-page.featuring",a.artistName)),a.items}),[n,i]),u=(0,a.useCallback)(((e,n)=>t().createElement(c.ZP,{key:e.uri,value:"card",index:n},t().createElement(ae.Z,{entity:e,onClick:()=>l(e)}))),[l]);return t().createElement("div",null,t().createElement(k.Dy,{as:"h1",variant:k.Dy.canon,className:te},r),t().createElement(ie.g,{nrCards:4,renderCard:u,fetchData:m}))},de=t().memo((()=>{const e=(0,a.useRef)(!0);(0,a.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]);const[n,i]=(0,a.useState)(null),{query:l,api:r}=d();(0,a.useEffect)((()=>{(async()=>{const n=await r.getSearchCategoryResultsMeta(l,"tracks");e.current&&i(n.totalCount||0)})()}),[r,l]);const o=(0,a.useCallback)((async(e,n)=>(await r.getSearchCategoryResults(l,"tracks",e,n)).items||[]),[r,l]),m=(0,a.useCallback)(((e,n)=>{const i=(0,I.X)(e.album.images,{desiredSize:40}),a=!(!1===e.is_playable);return t().createElement(R.e9,{key:n+e.uri,index:n,uri:(0,w.$V)(e),duration_ms:e.duration_ms,name:e.name,album:e.album,artists:e.artists,isPlayable:a,isExplicit:!!e.explicit,isMOGEFRestricted:e.isMOGEFRestricted,imgUrl:(null==i?void 0:i.url)||""})}),[]),u=(0,a.useMemo)((()=>[R.QD.INDEX,R.QD.TITLE,R.QD.ALBUM,R.QD.DURATION]),[]),k=(0,a.useCallback)((e=>e.uri),[]);if(null===n)return null;const v=s.ag.get("search.showing-category-query-songs",l);return t().createElement(c.ZP,{value:"search-results-tracklist"},t().createElement(R.Pv,{ariaLabel:v,key:l,hasHeaderRow:!0,columns:u,renderRow:m,resolveUri:k,nrTracks:n,fetchTracks:o,limit:50}))})),se={artists:e=>s.ag.get("search.showing-category-query-artist",e),albums:e=>s.ag.get("search.showing-category-query-albums",e),playlists:e=>s.ag.get("search.showing-category-query-playlists",e),podcasts:e=>s.ag.get("search.showing-category-query-podcasts",e),episodes:e=>s.ag.get("search.showing-category-query-episodes",e),users:e=>s.ag.get("search.showing-category-query-profiles",e),genres:e=>s.ag.get("search.showing-category-query-genres",e)},re={shows:"podcasts",profiles:"users"},oe=function(){const e=(0,a.useRef)(!0);(0,a.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]);const[n,i]=(0,a.useState)(null),l=d(),{query:s,api:r,onAddToHistory:o}=l,m="topRecommendations"===l.category,u="tracks"===l.category,v=re[l.category]||l.category;(0,a.useEffect)((()=>{(async()=>{if(u||m)return;const n=await r.getSearchCategoryResultsMeta(s,v);e.current&&i(n.totalCount||0)})()}),[u,m,r,s,v]);const p=(0,a.useCallback)((async(a,t)=>{if(null!==n&&a+t>n&&(t=n-a),t<=0)return[];const l=await r.getSearchCategoryResults(s,v,a,t);return e.current&&l.totalCount!==n&&i(l.totalCount),l.items}),[r,n,v,s]),S=(0,a.useCallback)(((e,n)=>{const i=(0,N.U)(e.uri),a=`${e.uri}-${n}`;return t().createElement(c.ZP,{key:a,value:"card",index:n},t().createElement(i,{entity:e,onClick:()=>o(e),onPlay:()=>o(e),testId:`search-category-card-${n}`}))}),[o]);if(u)return t().createElement(de,null);if(m)return t().createElement(le,null);const f=se[v](s);return null===n?null:t().createElement("div",null,t().createElement(k.Dy,{as:"h1",variant:k.Dy.canon,className:te},f),t().createElement(ie.g,{nrCards:n,renderCard:S,fetchData:p}))};var me=i(68333),ue=i(73546),ce=i(28638);const ke="aWITcUWCQObgQ4SmDv25";var ve=i(22578);i(98984);const Ne={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchAlbumDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"year"}}]}}]}}]},pe={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchArtistDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}]}}]}}]},Se={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchEpisodeDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"releaseDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}},{kind:"Field",name:{kind:"Name",value:"podcast"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}}]}}]},fe={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchGenreDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Genre"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"image"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}]}}]},ye={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchPlaylistDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"images"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"owner"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]},ge={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchPodcastDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}}]}}]},he={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchTrackDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"album"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareUrl"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}}]}}]}}]},be={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchUserDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",alias:{kind:"Name",value:"displayName"},name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"image"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"smallImageUrl"}},{kind:"Field",name:{kind:"Name",value:"largeImageUrl"}}]}}]}}]};var Fe=i(52200);const De={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchDesktop"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"numberOfTopResults"},value:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchAlbumDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchArtistDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"episode"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchEpisodeDesktop"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"genres"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchGenreDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"playlists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"podcasts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchPodcastDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"topResults"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAlbumDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchArtistDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchEpisodeDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchGenreDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchPodcastDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchTrackDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchUserDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"featured"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"tracks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchTrackDesktop"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"users"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchUserDesktop"}}]}}]}}]}}]}},...Ne.definitions,...Fe.r.definitions,...Fe.P.definitions,...pe.definitions,...Se.definitions,...fe.definitions,...ye.definitions,...ge.definitions,...he.definitions,...be.definitions]};function Te(e){return{items:Ce((null==e?void 0:e.items)||[]),totalCount:null==e?void 0:e.totalCount}}function Ce(e){return e.map((e=>Ee(e)))}function Ee(e){var n;return{name:e.name,images:(null===(n=e.coverArt)||void 0===n?void 0:n.sources)||[],artists:e.artists.items.map((e=>({name:e.profile.name,uri:e.uri}))),uri:e.uri}}const Ve={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchAlbums"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"albums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAlbumDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...Ne.definitions,...Fe.r.definitions,...Fe.P.definitions]},Re={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchAlbumsMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"albums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};function we(e){return{items:Ie((null==e?void 0:e.items)||[]),totalCount:null==e?void 0:e.totalCount}}function Ie(e){return e.map((e=>Ae(e)))}function Ae(e){var n,i;return{name:e.profile.name,images:(null===(n=e.visuals)||void 0===n||null===(i=n.avatarImage)||void 0===i?void 0:i.sources)||[],uri:e.uri}}const qe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchArtists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchArtistDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...pe.definitions,...Fe.r.definitions,...Fe.P.definitions]},Pe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchArtistsMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};var Oe=i(69518),xe=i.n(Oe);function Me(e){return{items:Ue((null==e?void 0:e.items)||[]),totalCount:null==e?void 0:e.totalCount}}function Ue(e){return e.map((e=>_e(e)))}function _e(e){var n,i,a;return{owner:{display_name:(null===(n=e.owner)||void 0===n?void 0:n.name)||"",displayName:(null===(i=e.owner)||void 0===i?void 0:i.name)||""},images:(null===(a=e.images)||void 0===a?void 0:a.items.flatMap((e=>e.sources)))||[],name:e.name||"",uri:e.uri||""}}const He={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchPlaylists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"playlists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...ye.definitions,...Fe.r.definitions,...Fe.P.definitions]},ze={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchPlaylistsMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"playlists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};var je=i(7073);function Ge(e){return e.map((e=>Le(e)))}function Le(e){var n,i,a,t,l;return{name:e.name,images:(null===(n=e.coverArt)||void 0===n?void 0:n.sources)||[],uri:e.uri,duration_ms:e.duration.totalMilliseconds,description:e.description||"",explicit:(null===(i=e.contentRating)||void 0===i?void 0:i.label)===je.KS.Explicit,release_date:null===(a=e.releaseDate)||void 0===a?void 0:a.isoString,show:{images:(null===(t=e.podcast.coverArt)||void 0===t?void 0:t.sources)||[]},isMOGEFRestricted:(null===(l=e.contentRating)||void 0===l?void 0:l.label)===je.KS.NineteenPlus}}const $e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchEpisodes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"episode"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchEpisodeDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...Se.definitions,...Fe.r.definitions,...Fe.P.definitions]},Ze={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchEpisodesMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};function Be(e){return{items:Qe((null==e?void 0:e.items)||[]),totalCount:null==e?void 0:e.totalCount}}function Qe(e){return e.map((e=>We(e)))}function We(e){var n;const i=xe().from(e.uri)?e.uri:`spotify:app:genre:${e.uri}`;return{name:e.name,uri:i,images:(null===(n=e.image)||void 0===n?void 0:n.sources)||[]}}const Ke={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchGenres"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"genres"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchGenreDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...fe.definitions,...Fe.r.definitions,...Fe.P.definitions]},Je={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchGenresMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"genres"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};function Xe(e){return{items:Ye((null==e?void 0:e.items)||[]),totalCount:null==e?void 0:e.totalCount}}function Ye(e){return e.map((e=>en(e)))}function en(e){var n,i;return{uri:e.uri,name:e.name,images:(null===(n=e.coverArt)||void 0===n?void 0:n.sources)||[],musicAndTalk:e.mediaType===je.Cl.Mixed,publisher:(null===(i=e.publisher)||void 0===i?void 0:i.name)||""}}const nn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchPodcasts"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"podcasts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPodcastDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...ge.definitions,...Fe.r.definitions,...Fe.P.definitions]},an={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchPodcastsMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"podcasts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};function tn(e){return e.map((e=>ln(e)))}function ln(e){var n,i,a;const t=(null===(n=e.album.coverArt)||void 0===n?void 0:n.sources)||[];return{uri:e.uri,name:e.name,is_playable:e.playability.playable,album:{uri:e.album.uri,name:e.album.name,images:t},artists:e.artists.items.map((e=>({name:e.profile.name,uri:e.uri}))),duration_ms:e.duration.totalMilliseconds,explicit:"EXPLICIT"===(null===(i=e.contentRating)||void 0===i?void 0:i.label),isMOGEFRestricted:"NINETEEN_PLUS"===(null===(a=e.contentRating)||void 0===a?void 0:a.label),images:t}}const dn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchTracks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"tracks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchTrackDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...he.definitions,...Fe.r.definitions,...Fe.P.definitions]},sn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchTracksMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"tracks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};var rn=i(74563);function on(e){return{items:mn((null==e?void 0:e.items)||[]),totalCount:null==e?void 0:e.totalCount}}function mn(e){return e.map((e=>un(e)))}function un(e){var n,i;const a=(0,rn.p)({imageUriOrUrl:(null===(n=e.image)||void 0===n?void 0:n.largeImageUrl)||(null===(i=e.image)||void 0===i?void 0:i.smallImageUrl)||""});return{name:e.displayName||e.username,uri:e.uri,images:a?[{url:a}]:[]}}const cn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"users"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchUserDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...be.definitions]},kn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchUsersMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"users"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};function vn(e){const n=(null==e?void 0:e.featured)||[],[i]=(null==e?void 0:e.items)||[];return{artistName:n.length?null==i?void 0:i.profile.name:"",items:(null==n?void 0:n.map((e=>_e(e))))||[],totalCount:n.length||0}}const Nn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchTopResults"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"numberOfTopResults"},value:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"topResults"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchTopResults"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"searchTopResults"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TopResults"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAlbumDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchArtistDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchEpisodeDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchGenreDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchPodcastDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchTrackDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchUserDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"featured"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}}]}}]}},...Ne.definitions,...Fe.r.definitions,...Fe.P.definitions,...pe.definitions,...Se.definitions,...fe.definitions,...ye.definitions,...ge.definitions,...he.definitions,...be.definitions]},pn={items:[],artistName:"",totalCount:0};const Sn={items:[],totalCount:0},fn={albums:Sn,artists:Sn,episodes:Sn,genres:Sn,playlists:Sn,podcasts:Sn,topResults:{items:[]},topRecommendations:{artistName:"",items:[],totalCount:0},tracks:Sn,users:Sn},yn={albums:async function(e,n){var i,a;const t=await e(Ve,n),l=null==t||null===(i=t.data)||void 0===i||null===(a=i.search)||void 0===a?void 0:a.albums;return l?Te(l):null},artists:async function(e,n){var i,a;const t=await e(qe,n),l=null==t||null===(i=t.data)||void 0===i||null===(a=i.search)||void 0===a?void 0:a.artists;return l?we(l):null},episodes:async function(e,n){var i,a;const t=await e($e,n),l=null==t||null===(i=t.data)||void 0===i||null===(a=i.search)||void 0===a?void 0:a.episodes;return l?function(e){return{items:Ge((null==e?void 0:e.items.map((e=>e.episode)))||[]),totalCount:null==e?void 0:e.totalCount}}(l):null},genres:async function(e,n){var i,a;const t=await e(Ke,n),l=null==t||null===(i=t.data)||void 0===i||null===(a=i.search)||void 0===a?void 0:a.genres;return l?Be(l):null},playlists:async function(e,n){var i,a;const t=await e(He,n),l=null==t||null===(i=t.data)||void 0===i||null===(a=i.search)||void 0===a?void 0:a.playlists;return l?Me(l):null},podcasts:async function(e,n){var i,a;const t=await e(nn,n),l=null==t||null===(i=t.data)||void 0===i||null===(a=i.search)||void 0===a?void 0:a.podcasts;return l?Xe(l):null},tracks:async function(e,n){var i,a;const t=await e(dn,n),l=null==t||null===(i=t.data)||void 0===i||null===(a=i.search)||void 0===a?void 0:a.tracks;return l?function(e){return{items:tn((null==e?void 0:e.items.map((e=>e.track)))||[]),totalCount:null==e?void 0:e.totalCount}}(l):null},users:async function(e,n){var i,a;const t=await e(cn,n),l=null==t||null===(i=t.data)||void 0===i||null===(a=i.search)||void 0===a?void 0:a.users;return l?on(l):null}},gn={albums:async function(e,n){var i,a,t;const l=await e(Re,n);return{items:[],totalCount:(null==l||null===(i=l.data)||void 0===i||null===(a=i.search)||void 0===a||null===(t=a.albums)||void 0===t?void 0:t.totalCount)||0}},artists:async function(e,n){var i,a,t;const l=await e(Pe,n);return{items:[],totalCount:(null==l||null===(i=l.data)||void 0===i||null===(a=i.search)||void 0===a||null===(t=a.artists)||void 0===t?void 0:t.totalCount)||0}},episodes:async function(e,n){var i,a,t;const l=await e(Ze,n);return{items:[],totalCount:(null==l||null===(i=l.data)||void 0===i||null===(a=i.search)||void 0===a||null===(t=a.episodes)||void 0===t?void 0:t.totalCount)||0}},genres:async function(e,n){var i,a,t;const l=await e(Je,n);return{items:[],totalCount:(null==l||null===(i=l.data)||void 0===i||null===(a=i.search)||void 0===a||null===(t=a.genres)||void 0===t?void 0:t.totalCount)||0}},playlists:async function(e,n){var i,a,t;const l=await e(ze,n);return{items:[],totalCount:(null==l||null===(i=l.data)||void 0===i||null===(a=i.search)||void 0===a||null===(t=a.playlists)||void 0===t?void 0:t.totalCount)||0}},podcasts:async function(e,n){var i,a,t;const l=await e(an,n);return{items:[],totalCount:(null==l||null===(i=l.data)||void 0===i||null===(a=i.search)||void 0===a||null===(t=a.podcasts)||void 0===t?void 0:t.totalCount)||0}},tracks:async function(e,n){var i,a,t;const l=await e(sn,n);return{items:[],totalCount:(null==l||null===(i=l.data)||void 0===i||null===(a=i.search)||void 0===a||null===(t=a.tracks)||void 0===t?void 0:t.totalCount)||0}},users:async function(e,n){var i,a,t;const l=await e(kn,n);return{items:[],totalCount:(null==l||null===(i=l.data)||void 0===i||null===(a=i.search)||void 0===a||null===(t=a.users)||void 0===t?void 0:t.totalCount)||0}}};class hn{constructor(e){this._request=e}async getSearchResults(e,n=0,i=10,a=5){var t,l,d,s;const r={searchTerm:e,offset:n,limit:i,numberOfTopResults:a},o=await this._request(De,r),m=null==o?void 0:o.data.search;return m?{albums:Te(m.albums),artists:we(m.artists),episodes:{items:Ge((null===(t=m.episodes)||void 0===t?void 0:t.items.map((e=>e.episode)))||[]),totalCount:(null===(l=m.episodes)||void 0===l?void 0:l.totalCount)||0},genres:Be(m.genres),playlists:Me(m.playlists),podcasts:Xe(m.podcasts),tracks:{items:tn((null===(d=m.tracks)||void 0===d?void 0:d.items.map((e=>e.track)))||[]),totalCount:(null===(s=m.tracks)||void 0===s?void 0:s.totalCount)||0},users:on(m.users),topResults:(u=m.topResults,{items:null==u?void 0:u.items.map((e=>{if(!("uri"in e))return null;const n=xe().from(e.uri);if("album"===(null==n?void 0:n.type))return Ee(e);if("artist"===(null==n?void 0:n.type))return Ae(e);if("episode"===(null==n?void 0:n.type))return Le(e);if("playlist"===(null==n?void 0:n.type)||"playlist-v2"===(null==n?void 0:n.type))return _e(e);if("show"===(null==n?void 0:n.type))return en(e);if("track"===(null==n?void 0:n.type))return ln(e);if("profile"===(null==n?void 0:n.type))return un(e);const i=We(e),a=xe().from(i.uri);return"application"===(null==a?void 0:a.type)?i:null})).filter(Boolean)}),topRecommendations:vn(m.topResults)}:fn;var u}async getSearchCategoryResults(e,n,i=0,a=25,t=10){const l={searchTerm:e,offset:i,limit:a,numberOfTopResults:t};return await yn[n](this._request,l)||Sn}async getSearchCategoryResultsMeta(e,n){const i={searchTerm:e,limit:1,offset:0,numberOfTopResults:10};return await gn[n](this._request,i)||Sn}getTopRecommendations(e){return async function(e,n){var i,a;const t=await e(Nn,{searchTerm:n,numberOfTopResults:10}),l=null==t||null===(i=t.data)||void 0===i||null===(a=i.search)||void 0===a?void 0:a.topResults;return l?vn(l):pn}(this._request,e)}}var bn=i(91802),Fn=i(80624),Dn=i(57395),Tn=i(13983);const Cn=(e,n,i)=>t().createElement(t().Fragment,null,t().createElement(ce.w,null,t().createElement(ue.M,null)),t().createElement(r.AW,{exact:!0,path:"/search"},t().createElement(h,null),!i&&t().createElement(me.Tn,null)),t().createElement(r.AW,{exact:!0,path:"/search/:query"},e&&n&&t().createElement(J,{results:e}),e&&!n&&t().createElement(ne,null)),t().createElement(r.AW,{path:"/search/:query/:category",component:oe})),En=t().memo((()=>{const[{category:e,query:n,showRecent:i},d]=(0,Dn.l)();(0,Tn.z)("search");const[r,o]=(0,a.useState)(null),m=!!r&&Object.keys(r).reduce(((e,n)=>e||r[n].items.length>0),!1),u=(0,a.useMemo)((()=>new hn((0,bn.PQ)(Fn.b.getInstance()))),[]),{searchHistory:k,setSearchHistory:v}=(0,p.u)(),N=(0,a.useCallback)((async(e,i=!1)=>{e===n&&m||(o(null),d(e,i))}),[n,m,d]);(0,a.useEffect)((()=>{(async()=>{!n||e||i||o(await u.getSearchResults(n))})()}),[e,n,i,u]),(0,a.useEffect)((()=>{""===n&&o(null)}),[n]);const S={api:u,category:e,query:n,showRecent:i,onAddToHistory:e=>{v([e,...k])},onSearchRequest:N};return t().createElement(l.Provider,{value:S},t().createElement(ve.$,null,s.ag.get("search.page-title")),t().createElement(c.ZP,{value:"search-page"},t().createElement("div",{className:"contentSpacing",id:"searchPage"},t().createElement(F.T,{className:ke,render:()=>Cn(r,m,i)}))))})),Vn=En},57395:(e,n,i)=>{i.d(n,{l:()=>l});var a=i(67294),t=i(47886);function l(){const e=(0,t.k6)(),n=(0,t.$B)("/search/:query?/:category?"),i=(0,a.useCallback)((function(n,i){i?e.push(`/search/${encodeURIComponent(n)}`):e.replace(`/search/${encodeURIComponent(n)}`)}),[e]),l=function(e){try{return decodeURIComponent(e)}catch{return e}}((null==n?void 0:n.params.query)||""),d=null==n?void 0:n.params.category,s=(0,t.TH)(),r=new URLSearchParams(s.search);return[{query:l,category:d,showRecent:Boolean(r.get("showRecent"))},i]}},47991:(e,n,i)=>{i.d(n,{$V:()=>a});const a=e=>{var n;return(null==e||null===(n=e.linked_from)||void 0===n?void 0:n.uri)||e.uri}},86446:(e,n,i)=>{i.d(n,{W:()=>d});var a=i(67294),t=i.n(a),l=i(87523);const d=e=>t().createElement(l.J,e,t().createElement("path",{d:"M349.714 347.937l93.714 109.969-16.254 13.969-93.969-109.969q-48.508 36.825-109.207 36.825-36.826 0-70.476-14.349t-57.905-38.603-38.603-57.905-14.349-70.476 14.349-70.476 38.603-57.905 57.905-38.603 70.476-14.349 70.476 14.349 57.905 38.603 38.603 57.905 14.349 70.476q0 37.841-14.73 71.619t-40.889 58.921zM224 377.397q43.428 0 80.254-21.461t58.286-58.286 21.461-80.254-21.461-80.254-58.286-58.285-80.254-21.46-80.254 21.46-58.285 58.285-21.46 80.254 21.46 80.254 58.285 58.286 80.254 21.461z",fill:"currentColor"}))}}]);
//# sourceMappingURL=xpui-routes-search.js.map