"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[728],{87581:(e,t,r)=>{r.d(t,{Q:()=>d});var o=r(67154),n=r.n(o),s=r(67294),i=r.n(s);const a="rhF8oTeCHyTZ1fTIDEJx";var c=r(94184),p=r.n(c);function d(e){return i().createElement("section",n()({},e,{className:p()(a,e.className)}))}},18774:(e,t,r)=>{r.d(t,{A:()=>d});var o=r(67154),n=r.n(o),s=r(67294),i=r.n(s);const a="_xr8T2A0LOlKXasYrTeJ";var c=r(13218),p=r(20657);function d({shelfHeaderProps:e,listProps:t}){return i().createElement(i().Fragment,null,i().createElement(c.r,n()({title:p.ag.get("episode.sponsored_by")},e)),i().createElement("aside",n()({className:a},t)))}},14784:(e,t,r)=>{r.r(t),r.d(t,{ALL_EPISODE_SPONSORS_TESTID:()=>O,AllEpisodeSponsors:()=>b,allEpisodeSponsorsPath:()=>f.e,default:()=>v});var o=r(67154),n=r.n(o),s=r(28975),i=r(67294),a=r.n(i),c=r(47886),p=r(42069),d=r(77186);var l=r(99922),u=r(87581),f=r(61737);const O="all-episode-sponsors";function b({EpisodeSponsorsWrapper:e=p.EpisodeSponsorsWrapper}){const{[s.hd]:t}=(0,c.UO)(),r=(0,d.P)(),o=(0,l.o)();return r.location.state?a().createElement(u.Q,{"data-testid":O},a().createElement(e,n()({},o,{numberOfSponsorsToDisplay:1/0}))):a().createElement(c.l_,{to:(0,s.lc)(t)})}const v=b},42069:(e,t,r)=>{r.r(t),r.d(t,{EPISODE_SPONSORS_SHELF_TESTID:()=>D,EpisodeSponsorsWrapper:()=>j,SEE_ALL_EPISODE_SPONSORS_TESTID:()=>w,default:()=>T});var o=r(59713),n=r.n(o),s=r(67294),i=r.n(s);const a="_XSbh8tMTVkz0PVYom9b";var c=r(14784),p=r(69518),d=r.n(p);var l=r(18693),u=r(67154),f=r.n(u);const O=(0,s.lazy)((()=>Promise.all([r.e(814),r.e(258)]).then(r.bind(r,87258))));function b({firedViewedEvents:e}){var t;const r=(0,s.useRef)();return{firedViewedEvents:r.current=null!==(t=null!=e?e:r.current)&&void 0!==t?t:new Set}}var v=r(47886);function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){n()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y({uri:e,getEpisodeSponsors:t,fireTrackingEvent:r,numberOfSponsorsToDisplay:o,version:n}){const{state:a}=(0,v.TH)(),{episodeBase62Id:c}=function({uri:e,episodeBase62Id:t}){return{episodeBase62Id:(0,s.useMemo)((()=>{var r;return t||(null===(r=d().from(e))||void 0===r?void 0:r.getBase62Id())}),[e,t])}}(S(S({},a),{},{uri:e})),{fetchedEpisodeSponsorsData:p}=(0,l.m)(S(S({},a),{},{episodeBase62Id:c,getEpisodeSponsors:t,version:n})),{firedViewedEvents:u}=b(S({},a)),{displayedSponsors:E}=function({fetchedEpisodeSponsorsData:e,fireTrackingEvent:t,numberOfSponsorsToDisplay:r,firedViewedEvents:o,version:n}){return{displayedSponsors:(0,s.useMemo)((()=>e.slice(0,r).map(((e,r)=>i().createElement(O,f()({key:`${e.metadata.lineitem_id}-${r}`,fireTrackingEvent:t,firedViewedEvents:o,version:n},e))))),[e,r,t,o,n])}}({fetchedEpisodeSponsorsData:p,fireTrackingEvent:r,numberOfSponsorsToDisplay:o,firedViewedEvents:u,version:n});return{uri:e,episodeBase62Id:c,fetchedEpisodeSponsorsData:p,displayedSponsors:E,firedViewedEvents:u}}var m=r(20657),P=r(18774);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){n()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const D="episode-sponsors-shelf",w="see-all-episode-sponsors";function j(e){var t;const{numberOfSponsorsToDisplay:r}=function({numberOfSponsorsToDisplay:e=3}){return{numberOfSponsorsToDisplay:e}}(e),o=y(h(h({},e),{},{numberOfSponsorsToDisplay:r}));return o.episodeBase62Id&&null!==(t=o.displayedSponsors)&&void 0!==t&&t.length?i().createElement(s.Suspense,{fallback:!0},i().createElement(P.A,{shelfHeaderProps:{title:2===e.version?m.ag.get("episode.sponsored_by"):m.ag.get("episode.sponsors"),hasMoreElements:o.fetchedEpisodeSponsorsData.length>r?{pathname:(0,c.allEpisodeSponsorsPath)(o.episodeBase62Id),state:o}:void 0,seeAllProps:{"data-testid":w}},listProps:{"data-testid":D,className:1===e.version?a:void 0,children:o.displayedSponsors}})):null}const T=j},18693:(e,t,r)=>{r.d(t,{F:()=>i,m:()=>a});var o=r(67294),n=r(64005),s=r(31604);const i=420;function a({episodeBase62Id:e,getEpisodeSponsors:t,fetchedEpisodeSponsorsData:a=[],version:c}){const[p,d]=(0,o.useState)(a),l=(0,o.useCallback)((async()=>{try{if(!e)throw new Error("episodeBase62Id is required to fetch episode sponsors");const o=null!=t?t:(await Promise.resolve().then(r.bind(r,36097))).getEpisodeSponsors;d(await o(e,{version:c}))}catch(e){d([])}}),[e,t,c]),u=(0,n.y)(l,i);return(0,o.useEffect)((function(){a.length||u()}),[u,a.length]),(0,s.H)(u),{fetchedEpisodeSponsorsData:p}}},31604:(e,t,r)=>{r.d(t,{H:()=>p});var o=r(17231),n=r(67294),s=r(40080),i=r(8341),a=r(83693);var c=r(44503);function p(e){const t=(0,o.W6)(c.oF),r=(0,i.Y)((e=>{var t,r;const o=null!==(t=null==e?void 0:e.item)&&void 0!==t?t:void 0;return(0,a.k6)(o)&&o.isPodcastAd&&null!==(r=o.id)&&void 0!==r?r:void 0})),p=(0,s.D)(r);(0,n.useEffect)((function(){r!==p&&Boolean(r)&&setTimeout(e,t)}),[e,r,p,t])}},77186:(e,t,r)=>{r.d(t,{P:()=>p});var o=r(59713),n=r.n(o),s=r(67294),i=r(47886);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(){const e=(0,i.k6)(),{listen:t,location:r}=e;return(0,s.useEffect)((function(){return t(((e,t)=>{"POP"===t&&(e.state=c(c(c({},void 0),r.state),e.state))}))})),e}}}]);
//# sourceMappingURL=728.js.map